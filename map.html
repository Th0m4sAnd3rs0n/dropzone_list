<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Carte des Dropzones</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 45px 0px 0px 0px;
            padding: 0;
        }
        #map {
            height: 100vh;
            width: 100%;
        }
        /* Style pour le sélecteur */
        .view-selector {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #fff;
            background-color: #444;
            padding: 5px;
            border: none;
        }
    </style>
</head>
<body>
    <select class="view-selector" onchange="changeView(this)" autocomplete="off">
        <option value="map">Map</option>
        <option value="mosaic">Mozaïque</option>
    </select>
    
    <div id="map"></div>

    <script>
        // Coordonnées des Dropzones
        const dropzone = [
            { name: "Dropzone 1", lat: 51.5074, lng: -0.1278 }, // Exemple de coordonnées de Londres
            { name: "Dropzone 2", lat: 48.8566, lng: 2.3522 },  // Exemple de coordonnées de Paris
            { name: "Dropzone 3", lat: 40.7128, lng: -74.0060 } // Exemple de coordonnées de New York
            // Ajoutez les coordonnées des autres Dropzones ici
        ];

        // Initialisation de la carte
        function initMap() {
            const map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: 0, lng: 0 }, // Coordonnées du centre de la carte
                zoom: 2 // Niveau de zoom initial
            });

            // Ajout des marqueurs pour chaque Dropzone
            dropzone.forEach(dropzone => {
                const marker = new google.maps.Marker({
                    position: { lat: dropzone.lat, lng: dropzone.lng },
                    map: map,
                    title: dropzone.name
                });

                // Ajoutez un événement de clic pour chaque marqueur
                marker.addListener("click", () => {
                    // Redirigez l'utilisateur vers la page de détails de la Dropzone
                    window.location.href = "details_Dropzone.html?dropzone=" + dropzone.name;
                });
            });
        }
        
        // Changer de vue à partir du selecteur 
        function changeView(select) {
            const view = select.value;
            const mosaic = document.querySelector(".mosaic");

            if (view === "mosaic") {
                location.href = "index.html";
            } else if (view === "map") {
                // location.href = "map.html";
            }
        }
    </script>

    <!-- Clé API de mon compte google : AIzaSyDi5aZpOHk3PMKNOs3C3aLML5m93zu4LlE -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDi5aZpOHk3PMKNOs3C3aLML5m93zu4LlE&callback=initMap" async defer></script>
</body>
</html>
